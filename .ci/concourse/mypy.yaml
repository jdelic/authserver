platform: linux


image_resource:
    type: docker-image
    source:
        repository: debian
        tag: 'stretch-slim'


inputs:
    - name: authserver


params:
    MYPYPATH: authserver/authserver


run:
    path: /usr/local/bin/mypy
    args:
        - -s
        - --disallow-untyped-calls
        - --disallow-untyped-defs
        - authserver
